<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator</title>
    <meta name="description" content="Transform your words into stunning visuals with AI">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { grotesk: ['Space Grotesk', 'system-ui', 'sans-serif'] },
                    colors: {
                        bg: { DEFAULT: 'hsl(228 20% 6%)', light: 'hsl(40 25% 97%)' },
                        fg: { DEFAULT: 'hsl(210 20% 93%)', light: 'hsl(228 25% 12%)' },
                        card: { DEFAULT: 'hsl(228 18% 9%)', light: 'hsl(0 0% 100%)' },
                        primary: { DEFAULT: 'hsl(24 95% 55%)', light: 'hsl(24 92% 50%)' },
                        accent: { DEFAULT: 'hsl(172 60% 42%)', light: 'hsl(172 55% 36%)' },
                        secondary: { DEFAULT: 'hsl(228 15% 13%)', light: 'hsl(230 20% 93%)' },
                        muted: { DEFAULT: 'hsl(228 8% 50%)', light: 'hsl(228 10% 42%)' },
                        border: { DEFAULT: 'hsl(228 12% 14%)', light: 'hsl(230 18% 87%)' },
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Space Grotesk', system-ui, sans-serif; }

        /* Orbs */
        .orb { position: absolute; border-radius: 50%; filter: blur(100px); will-change: transform; }
        .dark .orb { opacity: 0.12; }
        .light .orb { opacity: 0.18; }

        .orb-1 { width: 600px; height: 600px; top: -200px; right: -100px; animation: float-1 20s ease-in-out infinite; }
        .dark .orb-1 { background: radial-gradient(circle, hsl(24 95% 55%) 0%, transparent 70%); }
        .light .orb-1 { background: radial-gradient(circle, hsl(24 90% 70%) 0%, transparent 70%); }

        .orb-2 { width: 500px; height: 500px; bottom: -150px; left: -100px; animation: float-2 25s ease-in-out infinite; }
        .dark .orb-2 { background: radial-gradient(circle, hsl(172 60% 42%) 0%, transparent 70%); }
        .light .orb-2 { background: radial-gradient(circle, hsl(200 70% 75%) 0%, transparent 70%); }

        .orb-3 { width: 400px; height: 400px; top: 40%; left: 40%; animation: float-3 18s ease-in-out infinite; }
        .dark .orb-3 { background: radial-gradient(circle, hsl(340 75% 55%) 0%, transparent 70%); }
        .light .orb-3 { background: radial-gradient(circle, hsl(320 60% 78%) 0%, transparent 70%); }

        /* Noise overlay */
        .noise-overlay {
            position: absolute; inset: 0; pointer-events: none; opacity: 0.5;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
        }

        /* Gradient text */
        .dark .text-gradient { background: linear-gradient(135deg, hsl(24 95% 55%), hsl(172 60% 42%)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .light .text-gradient { background: linear-gradient(135deg, hsl(24 92% 50%), hsl(172 55% 36%)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }

        /* Glow border */
        .glow-border { position: relative; }
        .glow-border::before { content: ''; position: absolute; inset: -2px; border-radius: inherit; background: linear-gradient(135deg, hsl(24 95% 55%), hsl(172 60% 42%), hsl(24 95% 55%)); opacity: 0; transition: opacity 0.4s ease; z-index: -1; filter: blur(12px); }
        .glow-border:focus-within::before { opacity: 0.5; }

        /* Shimmer */
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        .shimmer { background: linear-gradient(90deg, hsl(228 15% 13%) 25%, hsl(228 12% 18%) 50%, hsl(228 15% 13%) 75%); background-size: 200% 100%; animation: shimmer 2s ease-in-out infinite; }
        .light .shimmer { background: linear-gradient(90deg, hsl(230 20% 93%) 25%, hsl(230 15% 97%) 50%, hsl(230 20% 93%) 75%); background-size: 200% 100%; }

        /* Pulse dot */
        @keyframes pulse-glow { 0%, 100% { box-shadow: 0 0 0 0 hsla(24, 95%, 55%, 0.4); } 50% { box-shadow: 0 0 0 8px hsla(24, 95%, 55%, 0); } }
        .pulse-dot { animation: pulse-glow 2s ease-in-out infinite; }

        /* Float animations */
        @keyframes float-1 { 0%, 100% { transform: translate(0, 0) scale(1); } 25% { transform: translate(50px, 30px) scale(1.05); } 50% { transform: translate(-30px, 60px) scale(0.95); } 75% { transform: translate(40px, -20px) scale(1.02); } }
        @keyframes float-2 { 0%, 100% { transform: translate(0, 0) scale(1); } 25% { transform: translate(-40px, -30px) scale(0.98); } 50% { transform: translate(60px, -50px) scale(1.04); } 75% { transform: translate(-20px, 40px) scale(1); } }
        @keyframes float-3 { 0%, 100% { transform: translate(0, 0) scale(1); } 33% { transform: translate(40px, -50px) scale(1.06); } 66% { transform: translate(-50px, 30px) scale(0.94); } }

        /* Fade in */
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeInUp 0.8s ease forwards; }
        .fade-in-d1 { animation-delay: 0.1s; opacity: 0; }
        .fade-in-d2 { animation-delay: 0.2s; opacity: 0; }
        .fade-in-d3 { animation-delay: 0.3s; opacity: 0; }

        /* Cursor glow */
        .cursor-glow { pointer-events: none; position: fixed; inset: 0; z-index: 30; opacity: 0; transition: opacity 0.3s; }

        /* Theme toggle */
        .theme-btn { backdrop-filter: blur(12px); transition: all 0.3s; }
        .theme-btn:hover { transform: scale(1.05); }

        /* Example prompt chips */
        .chip { transition: all 0.2s; }
        .chip:hover { transform: scale(1.05) translateY(-1px); }

        /* Result image reveal */
        @keyframes imgReveal { from { opacity: 0; transform: scale(1.05); } to { opacity: 1; transform: scale(1); } }
        .img-reveal { animation: imgReveal 0.8s ease-out forwards; }
    </style>
</head>
<body class="dark bg-bg text-fg min-h-screen relative flex flex-col font-grotesk transition-colors duration-400">
    {% block body %}{% endblock %}

    <!-- Cursor glow -->
    <div id="cursorGlow" class="cursor-glow"></div>

    <script>
        // Cursor glow
        const glow = document.getElementById('cursorGlow');
        window.addEventListener('mousemove', e => {
            glow.style.background = `radial-gradient(600px circle at ${e.clientX}px ${e.clientY}px, hsla(24,95%,55%,0.07), hsla(172,60%,42%,0.04) 40%, transparent 70%)`;
            glow.style.opacity = '1';
        });
        document.addEventListener('mouseleave', () => { glow.style.opacity = '0'; });

        // Theme toggle
        function toggleTheme() {
            const html = document.documentElement;
            const body = document.body;
            const isDark = html.classList.contains('dark');
            html.classList.toggle('dark');
            html.classList.toggle('light');
            if (isDark) {
                body.classList.remove('bg-bg', 'text-fg');
                body.style.backgroundColor = 'hsl(40 25% 97%)';
                body.style.color = 'hsl(228 25% 12%)';
            } else {
                body.style.backgroundColor = 'hsl(228 20% 6%)';
                body.style.color = 'hsl(210 20% 93%)';
            }
            document.getElementById('themeIcon').textContent = isDark ? 'üåô' : '‚òÄÔ∏è';
        }
    </script>

    <!-- Interactive particles -->
    <canvas id="particleCanvas" style="position:fixed;inset:0;z-index:0;pointer-events:none;"></canvas>
    <script>
        (function() {
            const canvas = document.getElementById('particleCanvas');
            const ctx = canvas.getContext('2d');
            let w, h, mx = -9999, my = -9999;
            const PARTICLE_COUNT = 80, MOUSE_RADIUS = 180, MOUSE_FORCE = 0.08;
            const particles = [];

            function resize() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; }
            resize();
            window.addEventListener('resize', resize);
            window.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });
            document.addEventListener('mouseleave', () => { mx = -9999; my = -9999; });

            function isDark() { return document.documentElement.classList.contains('dark'); }

            for (let i = 0; i < PARTICLE_COUNT; i++) {
                particles.push({
                    x: Math.random() * w, y: Math.random() * h,
                    bx: Math.random() * w, by: Math.random() * h,
                    vx: 0, vy: 0,
                    r: Math.random() * 2.5 + 1,
                    pulse: Math.random() * Math.PI * 2,
                    speed: Math.random() * 0.3 + 0.1
                });
            }

            function draw() {
                ctx.clearRect(0, 0, w, h);
                const dark = isDark();
                particles.forEach((p, i) => {
                    // drift
                    p.bx += Math.sin(Date.now() * 0.0001 + i) * 0.2;
                    p.by += Math.cos(Date.now() * 0.00012 + i) * 0.2;
                    // spring to base
                    p.vx += (p.bx - p.x) * 0.003;
                    p.vy += (p.by - p.y) * 0.003;
                    // mouse
                    const dx = mx - p.x, dy = my - p.y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    if (dist < MOUSE_RADIUS) {
                        const force = (MOUSE_RADIUS - dist) / MOUSE_RADIUS;
                        const angle = Math.atan2(dy, dx);
                        const dir = i % 3 === 0 ? -1 : 0.6;
                        p.vx += Math.cos(angle) * force * MOUSE_FORCE * dir;
                        p.vy += Math.sin(angle) * force * MOUSE_FORCE * dir;
                    }
                    p.vx *= 0.95; p.vy *= 0.95;
                    p.x += p.vx; p.y += p.vy;
                    p.pulse += 0.02;
                    const pr = p.r * (1 + Math.sin(p.pulse) * 0.3);
                    const alpha = dark ? 0.4 + Math.sin(p.pulse) * 0.2 : 0.3 + Math.sin(p.pulse) * 0.15;
                    const color = dark ? (i % 2 === 0 ? `hsla(24,95%,55%,${alpha})` : `hsla(172,60%,42%,${alpha})`) : (i % 2 === 0 ? `hsla(24,92%,50%,${alpha})` : `hsla(172,55%,36%,${alpha})`);
                    const grad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, pr * 3);
                    grad.addColorStop(0, color);
                    grad.addColorStop(1, 'transparent');
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, pr * 3, 0, Math.PI * 2);
                    ctx.fillStyle = grad;
                    ctx.fill();
                });
                // lines
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const d = Math.sqrt(dx * dx + dy * dy);
                        if (d < 120) {
                            ctx.beginPath();
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.strokeStyle = dark ? `hsla(24,95%,55%,${0.06 * (1 - d / 120)})` : `hsla(24,92%,50%,${0.08 * (1 - d / 120)})`;
                            ctx.stroke();
                        }
                    }
                }
                requestAnimationFrame(draw);
            }
            draw();
        })();
    </script>
</body>
</html>
